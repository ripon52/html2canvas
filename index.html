<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLHG Canvas</title>

    <style>
        .imgDiv{
            height: 350px;
            margin-top: 10px;
            display: block;
        }

        .imgDiv img{
            height: 100%;
        }
    </style>

</head>
<body>

    <div id="ImageIdFrame" style="padding: 10px; background: #f5da55">
        <h4 style="color: #000; ">Hello world!</h4>
    </div>

    <div class="imgDiv">
        <img src="" class="genImage" alt="">
    </div>
    
    <button onclick="saveMyImage();">ImageIdFrame</button>


    <script>
        function saveMyImage() {
            window.scrollTo(0, 0);
            html2canvas(document.getElementById("ImageIdFrame")).then(function (canvas) {
                var generatedImage = canvas.toDataURL("image/jpeg", 0.9);
                $(".genImage").attr("src",generatedImage)
                var win = window.open();
                win.document.write('<iframe src="' + generatedImage  + '" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>');
                return win;
            });
        }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="html2canvas.js" ></script>
</body>
</html>